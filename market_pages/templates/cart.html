{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Carrito de compras</title>
  <link rel="stylesheet" href="{% static 'css/base.css' %}">
  <link rel="stylesheet" href="{% static 'css/cart.css' %}">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="cart-container">
    <!-- Columna izquierda con imagen -->
    <div class="cart-image">
      <img src="{% static 'images/marketImg.png' %}" alt="Imagen decorativa">
    </div>

    <!-- Columna derecha con carrito -->
    <div class="cart-content">
      <h2 class="cart-title">ðŸ›’ Mi Carrito</h2>

      {% if cart.items.all %}
        <div class="table-responsive">
          <table class="table table-bordered align-middle">
            <thead class="table-dark text-center">
              <tr>
                <th>Producto</th>
                <th>Cantidad</th>
                <th>Subtotal</th>
                <th>AcciÃ³n</th>
              </tr>
            </thead>
            <tbody>
              {% for item in cart.items.all %}
              <tr>
                <td>{{ item.product.name }}</td>
                <td class="text-center">{{ item.quantity }}</td>
                <td>${{ item.subtotal }}</td>
                <td class="text-center">
                  <a href="{% url 'remove_from_cart' item.id %}" class="btn btn-danger btn-sm">Eliminar</a>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <div class="cart-total d-flex justify-content-between align-items-center mt-3">
          <h4><strong>Total:</strong> ${{ cart.total }}</h4>
        </div>

        <div class="cart-actions mt-4">
          <a href="{% url 'clear_cart' %}" class="btn btn-outline-danger me-2">Vaciar carrito</a>
          <a href="{% url 'landing' %}" class="btn btn-primary">Seguir comprando</a>
        </div>

      {% else %}
        <p class="empty-cart">Tu carrito estÃ¡ vacÃ­o.</p>
        <a href="{% url 'landing' %}" class="btn btn-primary">Ver productos</a>
      {% endif %}
    </div>
  </div>
</body>
</html>
